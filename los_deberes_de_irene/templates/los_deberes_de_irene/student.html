{% extends "los_deberes_de_irene/base.html" %}

{% load static %}

{% block main-class %}
  students
{% endblock %}

{% block content %}
    <div class="header root">
        <div></div>
        <div class="header-title">
      <img class="header-logo students" src="{% static 'img/logo-deberes-de-irene.svg' %}" />
            </div>
      <a class="header-button" href="{% url 'browser' user.profile.root_folder.id %}">Atrás</a>
    </div>
    <div class="header students">
      <div class="tabs-title-container">
        <div id="tab-selector-teachers" class="tabs-title-item" onclick="teachers()">Profesores</div>
        <div id="tab-selector-settings" class="tabs-title-item"  onclick="settings()">Letra</div>
      </div>
    </div>
    <div id="teachers-tab">
    <div class="special-button-teacher-container">
      <button class="special-button-teacher" onclick="document.getElementById('add-teacher-container').style.display='block'">
          <img src="{% static 'img/settings.svg' %}" alt="" />
          Añadir
        </button>
    </div>

    <table class="students-grid">
        <tr>
          <th class="student-number"></th>
          <th class="student-name">Nombre</th>
          <th class="student-actions"></th>
        </tr>
      {% for teacher in teachers_list %}
        <tr class="teacher">
          <td class="student-number">
            {{ forloop.counter }}.
          </td>
          <td>
            {{ teacher.username }}
          </td>
          <td>
              <a href="{% url 'delete_student_teacher'%}?teacher={{teacher.id}}" onclick="return confirm('¿Estás seguro?')">
                <img src="{% static 'img/delete.png' %}"/>
              </a>
          </td>
        </tr>
        {% endfor %}
    </table>
</div>
<div id="settings-tab">
    <div>Elige el tipo de letra:</div>
    <div>
        <div id="font_sample_kid" class="font-sample kid {% if user.profile.selected_font != 'adult'%}selected{% endif %}" onclick="select_kid()">El veloz murciélago hindú comía feliz cardillo y kiwi. La cigüeña toca el saxofón detrás del palenque de paja. 1234567890</div>
        <div id="font_sample_adult"  class="font-sample adult {% if user.profile.selected_font == 'adult'%}selected{% endif %}" onclick="select_adult()">El veloz murciélago hindú comía feliz cardillo y kiwi. La cigüeña toca el saxofón detrás del palenque de paja. 1234567890</div>
    </div>
    <div class="save-button-container">
        <form class="main-form" method="POST" action="{% url 'save_settings' %}">
         {% csrf_token %}
        <input type="hidden" name="selected_font" id="id_selected_font" />
         <button type="submit" class="special-button-teacher">
          <img src="{% static 'img/settings.svg' %}" alt="" />
          Guardar
        </button>
      </form>



    </div>
</div>
{% endblock %}

{% block outside %}
<div id="add-teacher-container" class="modal-container" onclick="document.getElementById('add-teacher-container').style.display='none'">
  <div id="add-teacher-modal" class="modal-content" onclick="event.stopPropagation();">
      <div class="close">
          <img src ="{% static 'img/close.png' %}" onclick="document.getElementById('add-teacher-container').style.display='none'"/>
      </div>
       <div class="title">Añadir profesor</div>
       <form class="main-form" method="POST" action="">
         {% csrf_token %}
        <div class="entry">
          <label for="id_code">Código del profesor</label>
          <input type="text" name="code" maxlength="150" autofocus="" required=""
                 id="id_code" placeholder="Ej: j5t2r">
        </div>
        <div class="buttons">
            <button type="submit" class="special-button-teacher">
              <img src="{% static 'img/settings.svg' %}" alt="" />
              Añadir
            </button>
        </div>
      </form>
  </div>
</div>
<script>
    function teachers(){
        document.getElementById("teachers-tab").style.display='block';
        document.getElementById("settings-tab").style.display='none';
        document.getElementById("tab-selector-teachers").classList.add("selected");
        document.getElementById("tab-selector-settings").classList.remove("selected");
    }

    function settings(){
        document.getElementById("teachers-tab").style.display='none';
        document.getElementById("settings-tab").style.display='block';
        document.getElementById("tab-selector-teachers").classList.remove("selected");
        document.getElementById("tab-selector-settings").classList.add("selected");
    }

    function select_kid(){
        document.getElementById("font_sample_kid").classList.add("selected");
        document.getElementById("font_sample_adult").classList.remove("selected");
        document.getElementById("id_selected_font").value = 'kid';
    }

    function select_adult(){
        document.getElementById("font_sample_kid").classList.remove("selected");
        document.getElementById("font_sample_adult").classList.add("selected");
        document.getElementById("id_selected_font").value = 'adult';
    }
    {% if "settings" == tab %}
    settings();
    {% else %}
    teachers();
    {% endif %}
</script>
{% endblock %}